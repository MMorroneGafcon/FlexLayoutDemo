{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tab = void 0;\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar Actions_1 = require(\"../model/Actions\");\n\nvar TabSetNode_1 = require(\"../model/TabSetNode\");\n\nvar Types_1 = require(\"../Types\");\n\nvar ErrorBoundary_1 = require(\"./ErrorBoundary\");\n\nvar I18nLabel_1 = require(\"../I18nLabel\");\n\nvar BorderNode_1 = require(\"../model/BorderNode\");\n\nvar Utils_1 = require(\"./Utils\");\n/** @internal */\n\n\nvar Tab = function (props) {\n  var layout = props.layout,\n      selected = props.selected,\n      node = props.node,\n      factory = props.factory,\n      path = props.path;\n\n  var _a = React.useState(!props.node.isEnableRenderOnDemand() || props.selected),\n      renderComponent = _a[0],\n      setRenderComponent = _a[1];\n\n  React.useLayoutEffect(function () {\n    if (!renderComponent && selected) {\n      // load on demand\n      // console.log(\"load on demand: \" + node.getName());\n      setRenderComponent(true);\n    }\n  });\n\n  var onMouseDown = function () {\n    var parent = node.getParent();\n\n    if (parent.getType() === TabSetNode_1.TabSetNode.TYPE) {\n      if (!parent.isActive()) {\n        layout.doAction(Actions_1.Actions.setActiveTabset(parent.getId()));\n      }\n    }\n  };\n\n  var cm = layout.getClassName;\n  var useVisibility = node.getModel().isUseVisibility();\n  var parentNode = node.getParent();\n\n  var style = node._styleWithPosition();\n\n  if (!selected) {\n    (0, Utils_1.hideElement)(style, useVisibility);\n  }\n\n  if (parentNode instanceof TabSetNode_1.TabSetNode) {\n    if (node.getModel().getMaximizedTabset() !== undefined && !parentNode.isMaximized()) {\n      (0, Utils_1.hideElement)(style, useVisibility);\n    }\n  }\n\n  var child;\n\n  if (renderComponent) {\n    child = factory(node);\n  }\n\n  var className = cm(Types_1.CLASSES.FLEXLAYOUT__TAB);\n\n  if (parentNode instanceof BorderNode_1.BorderNode) {\n    className += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BORDER);\n    className += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BORDER_ + parentNode.getLocation().getName());\n  }\n\n  return React.createElement(\"div\", {\n    className: className,\n    \"data-layout-path\": path,\n    onMouseDown: onMouseDown,\n    onTouchStart: onMouseDown,\n    style: style\n  }, React.createElement(ErrorBoundary_1.ErrorBoundary, {\n    message: props.layout.i18nName(I18nLabel_1.I18nLabel.Error_rendering_component)\n  }, React.createElement(react_1.Fragment, null, child)));\n};\n\nexports.Tab = Tab;","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;AAWA;;;AACO,IAAMA,GAAG,GAAG,UAACC,KAAD,EAAiB;AACxB,YAAM,GAAoCA,KAAK,OAA/C;AAAA,MAAQC,QAAQ,GAA0BD,KAAK,SAA/C;AAAA,MAAkBE,IAAI,GAAoBF,KAAK,KAA/C;AAAA,MAAwBG,OAAO,GAAWH,KAAK,QAA/C;AAAA,MAAiCI,IAAI,GAAKJ,KAAK,KAA/C;;AACF,WAAwCK,KAAK,CAACC,QAAN,CAAwB,CAACN,KAAK,CAACE,IAAN,CAAWK,sBAAX,EAAD,IAAwCP,KAAK,CAACC,QAAtE,CAAxC;AAAA,MAACO,eAAe,QAAhB;AAAA,MAAkBC,kBAAkB,QAApC;;AAENJ,OAAK,CAACK,eAAN,CAAsB;AAClB,QAAI,CAACF,eAAD,IAAoBP,QAAxB,EAAkC;AAC9B;AACA;AACAQ,wBAAkB,CAAC,IAAD,CAAlB;AACH;AACJ,GAND;;AAQA,MAAME,WAAW,GAAG;AAChB,QAAMC,MAAM,GAAGV,IAAI,CAACW,SAAL,EAAf;;AACA,QAAID,MAAM,CAACE,OAAP,OAAqBC,wBAAWC,IAApC,EAA0C;AACtC,UAAI,CAACJ,MAAM,CAACK,QAAP,EAAL,EAAwB;AACpBC,cAAM,CAACC,QAAP,CAAgBC,kBAAQC,eAAR,CAAwBT,MAAM,CAACU,KAAP,EAAxB,CAAhB;AACH;AACJ;AACJ,GAPD;;AASA,MAAMC,EAAE,GAAGL,MAAM,CAACM,YAAlB;AACA,MAAMC,aAAa,GAAGvB,IAAI,CAACwB,QAAL,GAAgBC,eAAhB,EAAtB;AAEA,MAAMC,UAAU,GAAG1B,IAAI,CAACW,SAAL,EAAnB;;AACA,MAAMgB,KAAK,GAAwB3B,IAAI,CAAC4B,kBAAL,EAAnC;;AACA,MAAI,CAAC7B,QAAL,EAAe;AACX,6BAAY4B,KAAZ,EAAmBJ,aAAnB;AACH;;AAED,MAAIG,UAAU,YAAYb,uBAA1B,EAAsC;AAClC,QAAIb,IAAI,CAACwB,QAAL,GAAgBK,kBAAhB,OAAyCC,SAAzC,IAAsD,CAACJ,UAAU,CAACK,WAAX,EAA3D,EAAqF;AACjF,+BAAYJ,KAAZ,EAAmBJ,aAAnB;AACH;AACJ;;AAED,MAAIS,KAAJ;;AACA,MAAI1B,eAAJ,EAAqB;AACjB0B,SAAK,GAAG/B,OAAO,CAACD,IAAD,CAAf;AACH;;AAED,MAAIiC,SAAS,GAAGZ,EAAE,CAACa,gBAAQC,eAAT,CAAlB;;AACA,MAAIT,UAAU,YAAYU,uBAA1B,EAAsC;AAClCH,aAAS,IAAI,MAAMZ,EAAE,CAACa,gBAAQG,sBAAT,CAArB;AACAJ,aAAS,IAAI,MAAMZ,EAAE,CAACa,gBAAQI,uBAAR,GAAkCZ,UAAU,CAACa,WAAX,GAAyBC,OAAzB,EAAnC,CAArB;AACH;;AAED,SACIrC;AACI8B,aAAS,EAAEA,SADf;AACwB,wBACF/B,IAFtB;AAGIO,eAAW,EAAEA,WAHjB;AAIIgC,gBAAY,EAAEhC,WAJlB;AAKIkB,SAAK,EAAEA;AALX,KAMIxB,oBAACuC,6BAAD,EAAc;AAACC,WAAO,EAAE7C,KAAK,CAACkB,MAAN,CAAa4B,QAAb,CAAsBC,sBAAUC,yBAAhC;AAAV,GAAd,EACI3C,oBAAC4C,gBAAD,EAAS,IAAT,EAAWf,KAAX,CADJ,CANJ,CADJ;AAYH,CA3DM;;AAAMgB,cAAGnD,GAAH","names":["Tab","props","selected","node","factory","path","React","useState","isEnableRenderOnDemand","renderComponent","setRenderComponent","useLayoutEffect","onMouseDown","parent","getParent","getType","TabSetNode_1","TYPE","isActive","layout","doAction","Actions_1","setActiveTabset","getId","cm","getClassName","useVisibility","getModel","isUseVisibility","parentNode","style","_styleWithPosition","getMaximizedTabset","undefined","isMaximized","child","className","Types_1","FLEXLAYOUT__TAB","BorderNode_1","FLEXLAYOUT__TAB_BORDER","FLEXLAYOUT__TAB_BORDER_","getLocation","getName","onTouchStart","ErrorBoundary_1","message","i18nName","I18nLabel_1","Error_rendering_component","react_1","exports"],"sources":["C:\\Users\\mmorrone\\UnityProjects\\my-app\\node_modules\\flexlayout-react\\src\\view\\Tab.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Fragment } from \"react\";\nimport { Actions } from \"../model/Actions\";\nimport { TabNode } from \"../model/TabNode\";\nimport { TabSetNode } from \"../model/TabSetNode\";\nimport { CLASSES } from \"../Types\";\nimport { ILayoutCallbacks } from \"./Layout\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport { I18nLabel } from \"../I18nLabel\";\nimport { BorderNode } from \"../model/BorderNode\";\nimport { hideElement } from \"./Utils\";\n\n/** @internal */\nexport interface ITabProps {\n    layout: ILayoutCallbacks;\n    selected: boolean;\n    node: TabNode;\n    factory: (node: TabNode) => React.ReactNode;\n    path: string;\n}\n\n/** @internal */\nexport const Tab = (props: ITabProps) => {\n    const { layout, selected, node, factory, path } = props;\n    const [renderComponent, setRenderComponent] = React.useState<boolean>(!props.node.isEnableRenderOnDemand() || props.selected);\n\n    React.useLayoutEffect(() => {\n        if (!renderComponent && selected) {\n            // load on demand\n            // console.log(\"load on demand: \" + node.getName());\n            setRenderComponent(true);\n        }\n    });\n\n    const onMouseDown = () => {\n        const parent = node.getParent() as TabSetNode;\n        if (parent.getType() === TabSetNode.TYPE) {\n            if (!parent.isActive()) {\n                layout.doAction(Actions.setActiveTabset(parent.getId()));\n            }\n        }\n    };\n\n    const cm = layout.getClassName;\n    const useVisibility = node.getModel().isUseVisibility();\n\n    const parentNode = node.getParent() as TabSetNode | BorderNode;\n    const style: Record<string, any> = node._styleWithPosition();\n    if (!selected) {\n        hideElement(style, useVisibility);\n    }\n\n    if (parentNode instanceof TabSetNode) {\n        if (node.getModel().getMaximizedTabset() !== undefined && !parentNode.isMaximized()) {\n            hideElement(style, useVisibility);\n        }\n    }\n\n    let child;\n    if (renderComponent) {\n        child = factory(node);\n    }\n\n    let className = cm(CLASSES.FLEXLAYOUT__TAB);\n    if (parentNode instanceof BorderNode) {\n        className += \" \" + cm(CLASSES.FLEXLAYOUT__TAB_BORDER);\n        className += \" \" + cm(CLASSES.FLEXLAYOUT__TAB_BORDER_ + parentNode.getLocation().getName());\n    }\n\n    return (\n        <div\n            className={className}\n            data-layout-path={path}\n            onMouseDown={onMouseDown}\n            onTouchStart={onMouseDown}\n            style={style}>\n            <ErrorBoundary message={props.layout.i18nName(I18nLabel.Error_rendering_component)}>\n                <Fragment>{child}</Fragment>\n            </ErrorBoundary>\n        </div>\n    );\n};\n\n\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BorderButton = void 0;\n\nvar React = require(\"react\");\n\nvar I18nLabel_1 = require(\"../I18nLabel\");\n\nvar Actions_1 = require(\"../model/Actions\");\n\nvar Rect_1 = require(\"../Rect\");\n\nvar ICloseType_1 = require(\"../model/ICloseType\");\n\nvar Types_1 = require(\"../Types\");\n\nvar Utils_1 = require(\"./Utils\");\n/** @internal */\n\n\nvar BorderButton = function (props) {\n  var layout = props.layout,\n      node = props.node,\n      selected = props.selected,\n      border = props.border,\n      iconFactory = props.iconFactory,\n      titleFactory = props.titleFactory,\n      icons = props.icons,\n      path = props.path;\n  var selfRef = React.useRef(null);\n  var contentRef = React.useRef(null);\n\n  var onMouseDown = function (event) {\n    if (!(0, Utils_1.isAuxMouseEvent)(event) && !layout.getEditingTab()) {\n      layout.dragStart(event, undefined, node, node.isEnableDrag(), onClick, onDoubleClick);\n    }\n  };\n\n  var onAuxMouseClick = function (event) {\n    if ((0, Utils_1.isAuxMouseEvent)(event)) {\n      layout.auxMouseClick(node, event);\n    }\n  };\n\n  var onContextMenu = function (event) {\n    layout.showContextMenu(node, event);\n  };\n\n  var onClick = function () {\n    layout.doAction(Actions_1.Actions.selectTab(node.getId()));\n  };\n\n  var onDoubleClick = function (event) {// if (node.isEnableRename()) {\n    //     onRename();\n    // }\n  }; // const onRename = () => {\n  //     layout.setEditingTab(node);\n  //     layout.getCurrentDocument()!.body.addEventListener(\"mousedown\", onEndEdit);\n  //     layout.getCurrentDocument()!.body.addEventListener(\"touchstart\", onEndEdit);\n  // };\n\n\n  var onEndEdit = function (event) {\n    if (event.target !== contentRef.current) {\n      layout.getCurrentDocument().body.removeEventListener(\"mousedown\", onEndEdit);\n      layout.getCurrentDocument().body.removeEventListener(\"touchstart\", onEndEdit);\n      layout.setEditingTab(undefined);\n    }\n  };\n\n  var isClosable = function () {\n    var closeType = node.getCloseType();\n\n    if (selected || closeType === ICloseType_1.ICloseType.Always) {\n      return true;\n    }\n\n    if (closeType === ICloseType_1.ICloseType.Visible) {\n      // not selected but x should be visible due to hover\n      if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var onClose = function (event) {\n    if (isClosable()) {\n      layout.doAction(Actions_1.Actions.deleteTab(node.getId()));\n    } else {\n      onClick();\n    }\n  };\n\n  var onCloseMouseDown = function (event) {\n    event.stopPropagation();\n  };\n\n  React.useLayoutEffect(function () {\n    updateRect();\n\n    if (layout.getEditingTab() === node) {\n      contentRef.current.select();\n    }\n  });\n\n  var updateRect = function () {\n    // record position of tab in node\n    var layoutRect = layout.getDomRect();\n    var r = selfRef.current.getBoundingClientRect();\n\n    node._setTabRect(new Rect_1.Rect(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\n  };\n\n  var onTextBoxMouseDown = function (event) {\n    // console.log(\"onTextBoxMouseDown\");\n    event.stopPropagation();\n  };\n\n  var onTextBoxKeyPress = function (event) {\n    // console.log(event, event.keyCode);\n    if (event.keyCode === 27) {\n      // esc\n      layout.setEditingTab(undefined);\n    } else if (event.keyCode === 13) {\n      // enter\n      layout.setEditingTab(undefined);\n      layout.doAction(Actions_1.Actions.renameTab(node.getId(), event.target.value));\n    }\n  };\n\n  var cm = layout.getClassName;\n  var classNames = cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON) + \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_ + border);\n\n  if (selected) {\n    classNames += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED);\n  } else {\n    classNames += \" \" + cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED);\n  }\n\n  if (node.getClassName() !== undefined) {\n    classNames += \" \" + node.getClassName();\n  }\n\n  var renderState = (0, Utils_1.getRenderStateEx)(layout, node, iconFactory, titleFactory);\n  var content = renderState.content ? React.createElement(\"div\", {\n    className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)\n  }, renderState.content) : null;\n  var leading = renderState.leading ? React.createElement(\"div\", {\n    className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)\n  }, renderState.leading) : null;\n\n  if (layout.getEditingTab() === node) {\n    content = React.createElement(\"input\", {\n      ref: contentRef,\n      className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),\n      \"data-layout-path\": path + \"/textbox\",\n      type: \"text\",\n      autoFocus: true,\n      defaultValue: node.getName(),\n      onKeyDown: onTextBoxKeyPress,\n      onMouseDown: onTextBoxMouseDown,\n      onTouchStart: onTextBoxMouseDown\n    });\n  }\n\n  if (node.isEnableClose()) {\n    var closeTitle = layout.i18nName(I18nLabel_1.I18nLabel.Close_Tab);\n    renderState.buttons.push(React.createElement(\"div\", {\n      key: \"close\",\n      \"data-layout-path\": path + \"/button/close\",\n      title: closeTitle,\n      className: cm(Types_1.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),\n      onMouseDown: onCloseMouseDown,\n      onClick: onClose,\n      onTouchStart: onCloseMouseDown\n    }, typeof icons.close === \"function\" ? icons.close(node) : icons.close));\n  }\n\n  return React.createElement(\"div\", {\n    ref: selfRef,\n    \"data-layout-path\": path,\n    className: classNames,\n    onMouseDown: onMouseDown,\n    onClick: onAuxMouseClick,\n    onAuxClick: onAuxMouseClick,\n    onContextMenu: onContextMenu,\n    onTouchStart: onMouseDown,\n    title: node.getHelpText()\n  }, leading, content, renderState.buttons);\n};\n\nexports.BorderButton = BorderButton;","map":{"version":3,"mappings":"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","names":["BorderButton","props","node","selected","border","iconFactory","titleFactory","icons","path","selfRef","React","useRef","contentRef","onMouseDown","event","layout","getEditingTab","dragStart","undefined","isEnableDrag","onClick","onDoubleClick","onAuxMouseClick","auxMouseClick","onContextMenu","showContextMenu","doAction","Actions_1","selectTab","getId","onEndEdit","target","current","getCurrentDocument","body","removeEventListener","setEditingTab","isClosable","closeType","getCloseType","ICloseType_1","Always","Visible","window","matchMedia","matches","onClose","deleteTab","onCloseMouseDown","stopPropagation","useLayoutEffect","updateRect","select","layoutRect","getDomRect","r","getBoundingClientRect","_setTabRect","Rect_1","left","top","width","height","onTextBoxMouseDown","onTextBoxKeyPress","keyCode","renameTab","value","cm","getClassName","classNames","Types_1","FLEXLAYOUT__BORDER_BUTTON","FLEXLAYOUT__BORDER_BUTTON_","FLEXLAYOUT__BORDER_BUTTON__SELECTED","FLEXLAYOUT__BORDER_BUTTON__UNSELECTED","renderState","content","className","FLEXLAYOUT__BORDER_BUTTON_CONTENT","leading","FLEXLAYOUT__BORDER_BUTTON_LEADING","ref","FLEXLAYOUT__TAB_BUTTON_TEXTBOX","type","autoFocus","defaultValue","getName","onKeyDown","onTouchStart","isEnableClose","closeTitle","i18nName","I18nLabel_1","Close_Tab","buttons","push","key","title","FLEXLAYOUT__BORDER_BUTTON_TRAILING","close","onAuxClick","getHelpText","exports"],"sources":["C:\\Users\\mmorrone\\UnityProjects\\my-app\\node_modules\\flexlayout-react\\src\\view\\BorderButton.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { I18nLabel } from \"../I18nLabel\";\nimport { Actions } from \"../model/Actions\";\nimport { TabNode } from \"../model/TabNode\";\nimport { Rect } from \"../Rect\";\nimport { IIcons, ILayoutCallbacks } from \"./Layout\";\nimport { ICloseType } from \"../model/ICloseType\";\nimport { CLASSES } from \"../Types\";\nimport { getRenderStateEx, isAuxMouseEvent } from \"./Utils\";\n\n/** @internal */\nexport interface IBorderButtonProps {\n    layout: ILayoutCallbacks;\n    node: TabNode;\n    selected: boolean;\n    border: string;\n    iconFactory?: (node: TabNode) => React.ReactNode | undefined;\n    titleFactory?: (node: TabNode) => React.ReactNode | undefined;\n    icons: IIcons;\n    path: string;\n}\n\n/** @internal */\nexport const BorderButton = (props: IBorderButtonProps) => {\n    const { layout, node, selected, border, iconFactory, titleFactory, icons, path } = props;\n    const selfRef = React.useRef<HTMLDivElement | null>(null);\n    const contentRef = React.useRef<HTMLInputElement | null>(null);\n\n    const onMouseDown = (event: React.MouseEvent<HTMLDivElement, MouseEvent> | React.TouchEvent<HTMLDivElement>) => {\n\n        if (!isAuxMouseEvent(event) && !layout.getEditingTab()) {\n            layout.dragStart(event, undefined, node, node.isEnableDrag(), onClick, onDoubleClick);\n        }\n    };\n\n    const onAuxMouseClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        if (isAuxMouseEvent(event)) {\n            layout.auxMouseClick(node, event);\n        }\n    };\n\n    const onContextMenu = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        layout.showContextMenu(node, event);\n    };\n\n    const onClick = () => {\n        layout.doAction(Actions.selectTab(node.getId()));\n    };\n\n    const onDoubleClick = (event: Event) => {\n        // if (node.isEnableRename()) {\n        //     onRename();\n        // }\n    };\n\n    // const onRename = () => {\n    //     layout.setEditingTab(node);\n    //     layout.getCurrentDocument()!.body.addEventListener(\"mousedown\", onEndEdit);\n    //     layout.getCurrentDocument()!.body.addEventListener(\"touchstart\", onEndEdit);\n    // };\n\n    const onEndEdit = (event: Event) => {\n        if (event.target !== contentRef.current!) {\n            layout.getCurrentDocument()!.body.removeEventListener(\"mousedown\", onEndEdit);\n            layout.getCurrentDocument()!.body.removeEventListener(\"touchstart\", onEndEdit);\n            layout.setEditingTab(undefined);\n        }\n    };\n\n    const isClosable = () => {\n        const closeType = node.getCloseType();\n        if (selected || closeType === ICloseType.Always) {\n            return true;\n        }\n        if (closeType === ICloseType.Visible) {\n            // not selected but x should be visible due to hover\n            if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    const onClose = (event: React.MouseEvent<HTMLDivElement>) => {\n        if (isClosable()) {\n            layout.doAction(Actions.deleteTab(node.getId()));\n        } else {\n            onClick();\n        }\n    };\n\n    const onCloseMouseDown = (event: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>) => {\n        event.stopPropagation();\n    };\n\n    React.useLayoutEffect(() => {\n        updateRect();\n        if (layout.getEditingTab() === node) {\n            (contentRef.current! as HTMLInputElement).select();\n        }\n    });\n\n    const updateRect = () => {\n        // record position of tab in node\n        const layoutRect = layout.getDomRect();\n        const r = selfRef.current!.getBoundingClientRect();\n        node._setTabRect(new Rect(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\n    };\n\n    const onTextBoxMouseDown = (event: React.MouseEvent<HTMLInputElement> | React.TouchEvent<HTMLInputElement>) => {\n        // console.log(\"onTextBoxMouseDown\");\n        event.stopPropagation();\n    };\n\n    const onTextBoxKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n        // console.log(event, event.keyCode);\n        if (event.keyCode === 27) {\n            // esc\n            layout.setEditingTab(undefined);\n        } else if (event.keyCode === 13) {\n            // enter\n            layout.setEditingTab(undefined);\n            layout.doAction(Actions.renameTab(node.getId(), (event.target as HTMLInputElement).value));\n        }\n    };\n\n    const cm = layout.getClassName;\n    let classNames = cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_ + border);\n\n    if (selected) {\n        classNames += \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED);\n    } else {\n        classNames += \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED);\n    }\n\n    if (node.getClassName() !== undefined) {\n        classNames += \" \" + node.getClassName();\n    }\n\n    const renderState = getRenderStateEx(layout, node, iconFactory, titleFactory);\n\n    let content = renderState.content ? (\n        <div className={cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)}>\n            {renderState.content}\n        </div>) : null;\n\n    const leading = renderState.leading ? (\n        <div className={cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)}>\n            {renderState.leading}\n        </div>) : null;\n\n    if (layout.getEditingTab() === node) {\n        content = (\n            <input\n                ref={contentRef}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX)}\n                data-layout-path={path + \"/textbox\"}\n                type=\"text\"\n                autoFocus={true}\n                defaultValue={node.getName()}\n                onKeyDown={onTextBoxKeyPress}\n                onMouseDown={onTextBoxMouseDown}\n                onTouchStart={onTextBoxMouseDown}\n            />\n        );\n    }\n\n    if (node.isEnableClose()) {\n        const closeTitle = layout.i18nName(I18nLabel.Close_Tab);\n        renderState.buttons.push(\n            <div\n                key=\"close\"\n                data-layout-path={path + \"/button/close\"}\n                title={closeTitle}\n                className={cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING)}\n                onMouseDown={onCloseMouseDown}\n                onClick={onClose}\n                onTouchStart={onCloseMouseDown}>\n                {(typeof icons.close === \"function\") ? icons.close(node) : icons.close}\n            </div>\n        );\n    }\n\n    return (\n        <div\n            ref={selfRef}\n            data-layout-path={path}\n            className={classNames}\n            onMouseDown={onMouseDown}\n            onClick={onAuxMouseClick}\n            onAuxClick={onAuxMouseClick}\n            onContextMenu={onContextMenu}\n            onTouchStart={onMouseDown}\n            title={node.getHelpText()}\n        >\n            {leading}\n            {content}\n            {renderState.buttons}\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"script"}